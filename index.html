<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DNS Lookup</title>
</head>
<body>
    <h1>DNS Lookup</h1>
    <button onclick="performDnsLookup()">Perform DNS Lookup</button>
    <div id="result"></div>

    <script>
        function getUrlParameter(name) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(name);
        }

        function performDnsLookup() {
            const fqdn = getUrlParameter('fqdn');

            if (!fqdn) {
                alert('No FQDN parameter found in the URL.');
                return;
            }

            fetch(`https://dns.google/resolve?name=${fqdn}&type=A`)
                .then(response => response.json())
                .then(data => {
                    const resultDiv = document.getElementById('result');
                    resultDiv.innerHTML = `<p>DNS Lookup Result for ${fqdn}:</p>`;
                    if (data.Answer) {
                        resultDiv.innerHTML += `<p>IP Address: ${data.Answer[0].data}</p>`;
                    } else {
                        resultDiv.innerHTML += `<p>No DNS record found for ${fqdn}</p>`;
                    }
                })
                .catch(error => {
                    console.error('Error performing DNS lookup:', error);
                    alert('An error occurred while performing DNS lookup. Please try again.');
                });
        }

        // Automatically perform DNS lookup if FQDN parameter is provided in the URL
        window.onload = function() {
            const fqdnParam = getUrlParameter('fqdn');
            if (fqdnParam) {
                performDnsLookup();
            }
        };
    </script>
</body>
</html>
